(this.webpackJsonpmeettorrent=this.webpackJsonpmeettorrent||[]).push([[0],{112:function(n,e,t){},130:function(n,e){},132:function(n,e){},138:function(n,e){},139:function(n,e){},140:function(n,e){},145:function(n,e){},147:function(n,e){},152:function(n,e){},154:function(n,e){},165:function(n,e){},167:function(n,e){},176:function(n,e){},178:function(n,e){},185:function(n,e){},189:function(n,e){},191:function(n,e){},199:function(n,e){},201:function(n,e){},206:function(n,e){},207:function(n,e,t){},213:function(n,e,t){},214:function(n,e,t){"use strict";t.r(e);var c=t(0),o=t.n(c),r=t(102),i=t.n(r),u=t(31),a=t(35),s=t(5),j=(t(112),t(54)),f=t(107),b=t(106),d=t(38),l=t(51),O=t(103),h=t.n(O),g=t(104);function p(n){var e=new Uint8Array(n);return crypto.getRandomValues(e),Array.from(e).map((function(n){return n.toString(16).padStart(2,"0")})).join("")}t(207);var x=t(4),v=p(20),m=new TextDecoder("utf-8");function S(){var n=Object(s.g)().meetingHash,e=Object(c.useState)({}),t=Object(u.a)(e,2),o=t[0],r=t[1],i=Object(c.useState)(""),a=Object(u.a)(i,2),O=a[0],p=a[1],S=Object(c.useState)([]),w=Object(u.a)(S,2),P=w[0],C=w[1];return Object(c.useEffect)((function(){var e=new h.a({peerId:v,infoHash:n,announce:g.announceList});return e.on("peer",(function(n){console.log("Peer found",n),n.on("connect",(function(){console.log("New peer connected",n),r((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(d.a)({},n.id,n))}))})),n.on("close",(function(){console.log("Peer disconnected",n),r((function(e){var t=n.id;e[t];return Object(f.a)(e,[t].map(b.a))}))})),n.on("error",(function(e){console.log("Peer error",e,n)})),n.on("data",(function(n){C((function(e){return[].concat(Object(j.a)(e),[m.decode(n)])}))}))})),e.start(),function(){return e.stop()}}),[n]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:["Meeting hash: ",n]}),Object(x.jsxs)("div",{children:["Peers connected: ",Object.keys(o).length+1]}),Object(x.jsxs)("form",{children:[Object(x.jsx)("input",{placeholder:"Message",value:O,onChange:function(n){return p(n.target.value)}}),Object(x.jsx)("button",{onClick:function(n){n.preventDefault(),Object.values(o).forEach((function(n){return n.send(O)})),C((function(n){return[].concat(Object(j.a)(n),[O])})),p("")},children:"Send"})]}),P.map((function(n,e){return Object(x.jsx)("div",{children:n},e)}))]})}var w=p(20);function P(){var n=Object(c.useState)(""),e=Object(u.a)(n,2),t=e[0],o=e[1];return Object(x.jsx)(a.a,{children:Object(x.jsxs)(s.d,{children:[Object(x.jsxs)(s.b,{exact:!0,path:"/",children:[Object(x.jsx)(a.b,{to:"/".concat(w),children:"New meeting"}),Object(x.jsx)("input",{placeholder:"Past meeting hash",value:t,onChange:function(n){return o(n.target.value)}}),t&&Object(x.jsx)(a.b,{to:"/".concat(t),children:"Join"})]}),Object(x.jsx)(s.b,{path:"/:meetingHash([0-9a-f]{40})",children:Object(x.jsx)(S,{})}),Object(x.jsx)(s.b,{children:Object(x.jsx)(s.a,{to:"/"})})]})})}t(213);var C=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,215)).then((function(e){var t=e.getCLS,c=e.getFID,o=e.getFCP,r=e.getLCP,i=e.getTTFB;t(n),c(n),o(n),r(n),i(n)}))};i.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(P,{})}),document.getElementById("root")),C()}},[[214,1,2]]]);
//# sourceMappingURL=main.5cfdb8ca.chunk.js.map